(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}!function(e){"use strict";jQuery(document).ready((function(){var o=wp.apiRequest;e(".spacento-meta-box-heading span").on("click",(function(){e(".spacento-meta-box-heading-content").slideToggle(1e3)})),e(".spacento-meta-box-overlay").animate({opacity:0},1e3,(function(){e(this).css({display:"none"})})),e(".spacento-meta-box-container .spacento-add").on("click",(function(){var t=e(".spacento-property-feature-list-content-source").html(),o=Math.random().toString(36).substring(4),a=e(".spacento-property-features-field").val();a=a+o+",",e(".spacento-property-features-field").val(a),t=t.replace(/REPLACEWITHID/g,o),e(".spacento-property-feature-list-content .spacento-anchor").before(t)})),e(".spacento-property-feature-list").on("click",".spacento-property-feature-list-item .spacento-delete",(function(){e(this).siblings(".spacento-delete-error").css({display:"none"});var t=e(this);e(".spacento-meta-box-overlay").css({opacity:0,display:"block"}).animate({opacity:1},1e3,(function(){var o=e(".spacento-property-features-field").val(),a=t.closest(".spacento-property-feature-list-item").attr("data-spacento-property-feature-id")+",";o=o.replace(a,""),t.closest(".spacento-property-feature-list-item").remove(),e(".spacento-property-features-field").val(o),e(".spacento-meta-box-overlay").animate({opacity:0},1e3,(function(){e(".spacento-meta-box-overlay").css({opacity:1,display:"none"})}))}))})),e(".spacento-meta-box-heading-content h3").on("click",(function(){var t=e(window).width(),o=e(this).attr("data-spacento-tab");if(t>1200)e(".spacento-meta-box-heading-content h3").removeClass("spacento-active"),e(this).addClass("spacento-active");else{var a=e(this).text();e(".spacento-meta-box-heading-actual").text(a),e(".spacento-meta-box-heading-content").slideToggle(1e3)}e(".spacento-meta-box-features-content, .spacento-meta-box-gallery-content, .spacento-meta-box-price-content").css({display:"none"}),e(".spacento-meta-box-overlay").css({opacity:0,display:"block"}).animate({opacity:1},1e3,(function(){"features"==o?e(".spacento-meta-box-features-content").css({display:"block"}):"price"==o?e(".spacento-meta-box-price-content").css({display:"block"}):e(".spacento-meta-box-gallery-content").css({display:"block"}),e(".spacento-meta-box-overlay").animate({opacity:0},1e3,(function(){e(".spacento-meta-box-overlay").css({display:"none"})}))}))})),e(".spacento-add-image").on("click",(function(){var t=e(".spacento-meta-box-gallery-item-source").html(),o={},a=e(".spacento-property-gallery-field").val(),n=wp.media({title:"Insert image",library:{type:"image"},button:{text:"Use this image"},multiple:!1}).on("select",(function(){o=n.state().get("selection").first().toJSON(),console.log(o),a=a+o.id+",",console.log(a),e(".spacento-property-gallery-field").val(a),t=t.replace("REPLACEWITHURL",o.url),e(".spacento-gallery-anchor").before(t)})).open()})),e(".spacento-meta-box-gallery-item .spacento-delete").on("click",(function(){var t=e(this).closest(".spacento-meta-box-gallery-item"),o=t.attr("data-spacento-id"),a=e(".spacento-property-gallery-field").val();e(".spacento-meta-box-overlay").css({opacity:0,display:"block"}).animate({opacity:1},1e3,(function(){a=a.replace(o+",",""),console.log(a),e(".spacento-property-gallery-field").val(a),t.remove(),e(".spacento-meta-box-overlay").animate({opacity:0},1e3,(function(){e(".spacento-meta-box-overlay").css({display:"none"})}))}))})),e(".widget-liquid-right").on("click",".spacento-widget-property-type select option",(function(){var a="",n=e(this).attr("value");console.log(n),e(this).closest(".spacento-widget-property-type").attr("data-spacento-id",n),e(".spacento-admin-widget-settings-overlay").css({opacity:0,display:"block"}).animate({opacity:1},1e3,(function(){"all"==n?(""==a&&(a+='<option value="select">'.concat(spacentoJsVariables.text.select,"</option>"),spacentoJsVariables.properties.locations.forEach((function(t){a+='<option value="'.concat(t.value,'">').concat(t.label,"</option>")}))),e(".spacento-widget-property-location select").html(a),e(".spacento-widget-property-location").css({display:"block"}),e(".spacento-admin-widget-settings-overlay").fadeOut(1e3,(function(){e(this).css({display:"none",opacity:1})}))):o({url:"".concat(spacentoJsVariables.api.getPropertyLocationOptions,"/").concat(n)}).then((function(o){"object"===t(o)&&null!==o&&o.hasOwnProperty("data")&&o.data.hasOwnProperty("payload")&&(console.log(o.data.payload),""==a&&(a+='<option value="select">'.concat(spacentoJsVariables.text.select,"</option>"),o.data.payload.forEach((function(t){a+='<option value="'.concat(t.value,'">').concat(t.label,"</option>")}))),e(".spacento-widget-property-location select").html(a),e(".spacento-widget-property-location").css({display:"block"}),e(".spacento-admin-widget-settings-overlay").fadeOut(1e3,(function(){e(this).css({display:"none",opacity:1})})))}))}))})),e(".widget-liquid-right").on("click",".spacento-widget-property-location select option",(function(){var a="",n=e(this).closest(".spacento-widget-property-location").siblings(".spacento-widget-property-type").attr("data-spacento-id"),c=e(this).attr("value");e(".spacento-admin-widget-settings-overlay").css({opacity:0,display:"block"}).animate({opacity:1},1e3,(function(){o({url:"".concat(spacentoJsVariables.api.getPropertyIds),method:"POST",data:{type:n,location:c}}).then((function(o){"object"===t(o)&&null!==o&&o.hasOwnProperty("data")&&o.data.hasOwnProperty("payload")&&(console.log(o.data.payload),""==a&&(a+='<option value="select">'.concat(spacentoJsVariables.text.select,"</option>"),o.data.payload.forEach((function(t){a+='<option value="'.concat(t.value,'">').concat(t.label,"</option>")}))),e(".spacento-widget-property select").html(a),e(".spacento-widget-property").css({display:"block"}),e(".spacento-admin-widget-settings-overlay").fadeOut(1e3,(function(){e(this).css({display:"none",opacity:1})})))}))}))}))}))}(jQuery)})();